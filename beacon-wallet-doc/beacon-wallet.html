<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Beacon Wallet</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
@page {
    size: a4;
    margin: 30mm 20mm 40mm 25mm;
    
    @top-left {
        content: "Fabian Vogler, Cyril Gabathuler";
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 0.75em;
        color: #aaa;
    }
    
    @top-right {
        content: "Version 1.0";
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 0.75em;
        color: #aaa;
    }

    @bottom-left {
        content: "Beacon Wallet";
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 0.75em;
        color: #aaa;
        padding-left: 3.75em;
    }

    @bottom-right {
        content: counter(page);
        font-family: "Helvetica Neue", Helvetica, sans-serif;
        font-size: 0.75em;
        color: #aaa;
    }

    @footnotes {
        margin-bottom: -13mm;
    }
}

@page front {

    @top-left {
        content: none;
    }

    @top-right {
        content: none;
    }

    @bottom-left {
        content: none;
    }

    @bottom-right {
        content: none;
    }
}

html { 
    color: #333;
    font-size: 10pt;
    line-height: 1.6;
    font-family: "Helvetica Neue", Helvetica, sans-serif;
    text-rendering: optimizeLegibility; 
}

footer {
    clear: both;
}

a {
  color: #333;
  text-decoration: none;
}

h1,
h2,
h3,
h4,
p,
figure figcaption,
figure.inline {
    clear: both;
    font-weight: normal;
    padding-left: 60px;
}

ul {
    padding-left: 40px;
}

td ul {
     padding-left: 15px;
}

h1 {
    font-size: 3em;
}

h2 {
    font-size: 2em;
}

h3 {
    font-size: 1.5em;
}

h4 {
    font-size: 1.25em;
}

p {
    font-size: 1em;
}

pre.code,
p.code {
    padding-left: 40px;
}

pre.code code,
p.code code {
    font-size: 0.7em;
    display: block;
    border-left: 1px solid #126396;
    padding: 0.5em 0 0.5em 19px;
    background-color: #f6f6f6;
}

ul li {
    padding-bottom: 1em;
}

table {
    border-collapse: collapse;
}

table td,
table th {
    padding: 0.2em 0.4em;
    border: 1px solid #ddd;
    font-size: 0.75em;
    text-align: left;
}

figure {
    padding: 0;
    margin: 1.5em 0;
}

figure img {
    max-width: 100%;
}

figure table {
    margin-bottom: 1em;
}

figure figcaption {
    font-size: 0.75em;
}

figure.inline figcaption {
    padding-left: 0;
}

img.border {
    border: 1px solid #aaa;
}

a[href^="http"]:after {
    content: attr(href);
    float: footnote;
    margin-left: 60px;
    counter-increment: footnote;
    font-size: 0.75em;
    footnote-style-position: inside;
}

a[href^="http"]:after::footnote-call {
    vertical-align: super;
    line-height: none;
}

a[href^="http"]:after::footnote-marker {
    content: counter(footnote) " ";
    font-size: 0.75em;
    vertical-align: super;
    line-height: none;
}

a[href^='#']:after {
    content: " [" target-counter(attr(href), reference) "]";
}

.ref {
    counter-increment: reference;
}

.ref:before {
    content: "[" counter(reference) "] ";
}

div.chapter {
    counter-increment: chapter;
    counter-reset: footnote;
    margin-top: 3em;
}

div.chapter h2 {
    padding-left: 0;
}

div.chapter h2:before {
    content: counter(chapter);
    width: 1.5em;
    padding-right: 0.375em;
    display: inline-block;
    text-align: right;
}

div.chapter h3 {
    counter-increment: sub-chapter;
    padding-left: 0;
}

div.chapter h3:before {
    content: counter(chapter) "." counter(sub-chapter);
    width: 2em;
    padding-right: 0.5em;
    display: inline-block;
    text-align: right;
}

h3.break,
h4.break,
p.break,
figure.break,
div.chapter {
    page-break-before: always;
}

#front {
    page: front;
    page-break-after: always;
}

#front h1 {
    margin: 1em 0 0.5em 0;
}

#front .logo {
    display: none;
}

#front .screenshot {
    padding-top: 4em;
    padding-bottom: 0em;
    margin-left: -0.5em;
}

#front,
#second {
    margin-bottom: 3em;
}

#toc,
#toc ol,
#figures,
#sources {
    list-style-type: none;
    padding: 0;
    margin: 0;
}

#sources {
    counter-reset: sources;
}

#sources li {
    padding-left: 60px;
    padding-bottom: 0.75em;
}

#sources li:before {
	content: "[" counter(sources) "] ";
	counter-increment: sources;
}

#toc > li {
    padding-bottom: 1em;
}

#toc a:after,
#figures a:after {
    content: " " leader(".") " " target-counter(attr(href), page);
}

#toc .chapter {
    display: inline-block;
    padding-left: 1em;
    padding-right: 0.75em;
    text-align: left;
    width: 2em;
}

#figure-aufwand table td:not(:first-child) {
    text-align: center;
}
    
#figure-aufwand table tr.total td {
    font-weight: bold;
}

@media screen {

    html {
        font-size: 0.8em;
    }

    body {
        margin: 3em 0 4em 0;
    }

    p {
        padding-right: 3em;
    }

    a {
        color: #1b60a7;
    }

    a[href^="http"]:after {
        display: none;
    }

    #front h1 {
        margin: 1em 0 0 0;
    }

    #front .logo {
        display: block;
        padding-bottom: 2em;
    }

    #front .screenshot {
        display: none;
    }

    #second,
    div.chapter {
        border-top: 1px solid #ddd;
    }

    pre.code code,
    p.code code {
        font-size: 0.9em;
    }
}

@media screen and (min-width: 40.5em) {

    html {
        font-size: 1em;
    }

    body {
        margin: 4em 3em 6em 3em;
    }

    #second,
    div.chapter {
        max-width: 40em;
    }

    #front {
        position: relative;
        top: -4em;
        left: -3em;
        width: 100%;
        padding: 4em 3em 2em 3em;
        margin-bottom: -4em;
    }

    #front h1 {
        margin: 1em 0 5.5em 0;
    }

    #front .logo {
        display: block;
        position: fixed;
        margin: 0;
        padding: 0;
        top: 4em;
        right: 4.5em;
        width: 50px;
        height: 50px;
        opacity: 0.1;
        -webkit-transition: opacity 0.5s linear;
        -moz-transition: opacity 0.5s linear;
    }

    #front:hover .logo {
        opacity: 1;
    }
}

</style>
<script>

function item(node, id, chapter, subChapter) {

    var li, a, spanChapter, spanTitle;

    node.setAttribute('id', id);

    li = document.createElement('li');

    a = document.createElement('a');
    a.setAttribute('href', '#' + id);

    chapter = '' + chapter;
    if (typeof subChapter != 'undefined') {
        chapter += '.' + subChapter;
    }

    spanChapter = document.createElement('span');
    spanChapter.setAttribute('class', 'chapter');
    spanChapter.appendChild(document.createTextNode(chapter));
    a.appendChild(spanChapter);

    spanTitle = document.createElement('span');
    spanTitle.setAttribute('class', 'title');
    spanTitle.appendChild(document.createTextNode(node.innerHTML));
    a.appendChild(spanTitle);

    li.appendChild(a);

    return li;
}

function toc() {

    var headers = document.getElementsByTagName('h2'),
        toc = document.getElementById('toc'),
        i, j, node, id, chapter, li, childs, ol;

    // skip first header (TOC)
    for (i = 1; i < headers.length; i++) {

        node = headers[i];
        id = 'chapter-' + i;
        li = item(node, id, i);

        childs = node.parentNode.getElementsByTagName("h3");
        ol = document.createElement('ol');

        for (j = 0; j < childs.length; j++) {

            node = childs[j];
            id = 'chapter-' + i + '-' + (j + 1);
            sli = item(node, id, i, j + 1);
            ol.appendChild(sli); 
        }

        li.appendChild(ol);
        toc.appendChild(li);
    }
}

function figures() {

    var captions = document.getElementsByTagName('figcaption'),
        figures = document.getElementById('figures'),
        i, caption, figure, li, a;

    for (i = 0; i < captions.length; i++) {

        caption = captions[i];
        figure = caption.parentNode;

        caption.innerHTML = 'Abb. ' + (i + 1) + ' ' + caption.innerHTML;

        li = document.createElement('li');

        a = document.createElement('a');
        a.setAttribute('href', '#' + figure.getAttribute('id'));

        a.appendChild(document.createTextNode(caption.textContent));

        li.appendChild(a);
        figures.appendChild(li); 
    }
}

function init() {
    figures();
    toc();
}

</script>
</head>
<body onload="init();">

<div id="front">
<p>
ZHAW Zürcher Hochschule für Angewandte Wissenschaften<br/>
Bachelorstudium Informatik<br/>
Seminararbeit<br/>
Dozent: Peter Egli
</p>
<h1>Beacon Wallet</h1>
<p class="screenshot">
<img src="icon/beacon-wallet.png" height="380" />
</p>
<p>
Fabian Vogler, <a href="mailto:voglefab@students.zhaw.ch">voglefab@students.zhaw.ch</a><br/>
Cyril Gabathuler, <a href="mailto:gabatcyr@students.zhaw.ch">gabatcyr@students.zhaw.ch</a><br/>
14. April 2014
</p>
</div>

<div id="second">
<h2>Inhaltsverzeichnis</h2>
<ol id="toc"></ol>
</div>

<div class="chapter">
<h2>Einleitung</h2>

<h3>Ausgangslage</h3>
<p>
Die Arbeit soll aufzeigen, wie moderne Kundenbindung sowie bargeldlose Bezahlung im Detailhandel mittels neuer Technologien vereinfacht werden kann. Spezifisch soll die Integration von Beacons in einem Supermarkt untersucht werden. Diese Beacons kommunizieren via Bluetooth Low Energy mit einer Mobile App.
</p>
<p>
Um alltägliche Use Cases aufzuzeigen, hat man sich für eine exemplarische Integration des System in eine Filiale eines lokalen Detailhandelsunternehmen (Coop) entschieden.
</p>

<h3>Ziele der Arbeit</h3>
<p>
Betritt ein Kunde die Filiale, wird ein eindeutiges Beacon erkannt und eine iOS App begrüsst den Kunden über eine Benachrichtigung. Der Kunde erhält Informationen über die Filiale und hat Zugriff auf sein Kundenkonto. Diese Situation könnte auch verwendet werden, um spezielle Aktionen anzupreisen.
</p>
<p>
Während des Einkaufs hat der Kunde die Möglichkeit, die Produkte direkt mit der App zu scannen und nützliche Informationen zu dem Produkt zu erhalten.
</p>
<p>
Hat der Kunde den Einkauf beendet, bezahlt er direkt aus der App heraus. Dazu legt er sein iPhone direkt auf ein iPad, welches als Kasse dient. Es wird eine sichere Verbindung zwischen den zwei Geräten aufgebaut um die Transaktion durchzuführen. Danach schliesst das iPad die Transaktion über das Zahlungssystem auf dem Server ab. Diese Lösung hat den Vorteil, dass das iPhone des Kunden keinen Internetzugang braucht. Die Transaktion kann also schnell abgewickelt werden, obwohl in vielen Filialen der Empfang für Smartphones schlecht ist.
</p>

<h3>Aufgabenstellung</h3>
<p>Folgende Aufgabenstellungen wurden definiert:</p>
<ul>
    <li>Entwicklung einer Datenbank für Produkte und Kunden (Fabian Vogler)</li>
    <li>Programmierung einer API für Produkte und Kundeninformationen (Fabian Vogler)</li>
    <li>iPhone App für den Einkauf und der Kommunikation mit den Beacons (Cyril Gabathuler)</li>
    <li>iPad App für die Bezahlung (Cyril Gabathuler)</li>
    <li>Umsetzung einer sicheren Kommunikation per Bluetooth 4.0 zur Bezahlung (Fabian Vogler)</li>
</ul>

<h3>Erwartete Resultate</h3>
<p>Folgende Resultate werden erwartet:</p>
<ul>
    <li>MySQL-Datenbank mit Beispielprodukten und Testkunden</li>
    <li>API für den Zugriff auf die Datenbank</li>
    <li>iPhone App für den Zugriff auf das Back-End-System, wie auch die Integration von Beacons</li>
    <li>iPad App für die Kommunikation mit dem iPhone und daraus resultierende Bezahlung des Einkaufes</li>
    <li>Kommunikationsprotokoll für die Bezahlung zwischen iPhone und iPad App</li>
</div>

<div class="chapter">
    <h2>Projektmanagement</h2>
    <h3>Projektteam</h3>
    <p>Das Projektteam setzt sich aus Fabian Vogler und Cyril Gabathuler zusammen. Fabian Vogler übernimmt die Entwicklung der Back-End-Komponente, während sich Cyril Gabathuler und die Entwicklung der iOS Apps kümmert. Weiter wird Cyril sich um die Integration der iBeacons kümmern und Fabian die sichere Bezahlung zwischen dem iPhone und dem iPad übernehmen.</p>
    
    <h3>Projektplanung</h3>
    <p>
    Der folgende Projektplan gibt einen Überblick über den Ablauf des Projekts
    und dessen wichtigsten Meilensteine.
    </p>

    <figure id="figure-gantt">
        <table>
            <colgroup>
                <col width="160">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
                <col width="25">
            </colgroup>
            <thead>
                <tr>
                    <th>&nbsp;</th>
                    <th colspan="4">März</th>
                    <th colspan="8">Mai</th>
                    <th colspan="8">Juni</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Kickoff</td>
                    <td colspan="4" style="border-left: 0;">◆ 05.03.14</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>Draft</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td colspan="4" style="border-left: 0;">◆ 04.06.14</td>          
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>Umsetzung</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td colspan="13" style="background-color: #e8f0f8;">&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>Dokumentation</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td colspan="11" style="background-color: #e8f0f8;">&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>Abgabe der Arbeit</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td colspan="3" style="border-left: 0;">◆ 19.06.14</td>
                    <td>&nbsp;</td>
                </tr>
                <tr>
                    <td>Präsentation</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td colspan="3" style="border-left: 0;">◆ 19.06.14</td>
                    <td>&nbsp;</td>
                </tr>
            </tbody>
        </table>
        <figcaption>Projektplanung</figcaption>
        </figure>
   
    <h3 class="break">Aufwand</h3>

    <p>Laut <a href="https://ebs.zhaw.ch/files/documents/informatik/Reglemente/Bachelor/Seminararbeit/a_Reglement-Seminar_Studiengang-Informatik_V2.1.docx">Reglement</a> sollte der Aufwand pro Student 50 Stunden betragen. Entsprechend wurde die Planung darauf ausgelegt.
    </p>

    <figure id="figure-aufwand" class="inline">
        <table>
            <colgroup>
                <col width="200" />
                <col width="50" />
                <col width="50" />
                <col width="50" />
                <col width="50" />
            </colgroup>
            <thead>
                <tr>
                    <th></th>
                    <th colspan="2" style="text-align: center;">Fabian</th>
                    <th colspan="2" style="text-align: center;">Cyril</th>
                </tr>
                <tr>
                    <th>Beschreibung</th>
                    <th>Soll</th>
                    <th>Ist</th>
                    <th>Soll</th>
                    <th>Ist</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Projekt aufsetzen</td>
                    <td>1h</td>
                    <td>1h</td>
                    <td>1h</td>
                    <td>1h</td>
                </tr>
                <tr>
                    <td>Continuous Integration</td>
                    <td>1h</td>
                    <td>2h</td>
                    <td>2h</td>
                    <td>2.5h</td>
                </tr>           
                <tr>
                    <td>Requirements Engineering</td>
                    <td>2h</td>
                    <td>2h</td>
                    <td>2h</td>
                    <td>2h</td>
                </tr>
                <tr>
                    <td>Entwurf Datenbank</td>
                   <td>3h</td>
                   <td>2h</td>
                   <td>-</td>
                   <td>-</td>
                </tr>
                <tr>
                    <td>Erfassung Testdaten</td>
                    <td>1h</td>
                    <td>3h</td>
                    <td>1h</td>
                    <td>1h</td>
                </tr>
                <tr>
                    <td>Umsetzung Back-End</td>
                    <td>7h</td>
                    <td>7h</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>iPhone App</td>
                    <td>-</td>
                    <td>-</td>
                    <td>9h</td>
                    <td>14h</td>
                </tr>
                <tr>
                    <td>iPad App</td>
                    <td>-</td>
                    <td>-</td>
                    <td>5h</td>
                    <td>3h</td>
                </tr>
                <tr>
                    <td>Integration iBeacons</td>
                    <td>-</td>
                    <td>-</td>
                    <td>2h</td>
                    <td>2.5h</td>
                </tr>
                <tr>
                    <td>Entwurf Kommunikation Bezahlung</td>
                    <td>3h</td>
                    <td>2.5h</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Umsetzung Bezahlung</td>
                    <td>5h</td>
                    <td>9h</td>
                    <td>-</td>
                    <td>-</td>
                </tr>
                <tr>
                    <td>Testing</td>
                    <td>4h</td>
                    <td>5.5h</td>
                    <td>6h</td>
                    <td>7h</td>
                </tr>
                <tr>
                    <td>Dokumentation</td>
                    <td>20h</td>
                    <td>22h</td>
                    <td>20h</td>
                    <td>24h</td>
                </tr>
                <tr>
                    <td>Schlusspräsentation</td>
                    <td>1h</td>
                    <td>1h</td>
                    <td>1h</td>
                    <td>1h</td>
                </tr>
                <tr>
                    <td>Reserve</td>
                    <td>2h</td>
                    <td>-</td>
                    <td>2h</td>
                    <td>-</td>
                </tr>
                <tr class="total">
                    <td>Total</td>
                    <td>50h</td>
                    <td>57h</td>
                    <td>50h</td>
                    <td>58h</td>
                </tr>
            </tbody>
        </table>
        <figcaption>Soll / Ist Vergleich Aufwand</figcaption>
    </figure>

    <h3>Dokumentation</h3>

    <p>
    Die Dokumentation wurde ausschliesslich in HTML und CSS geschrieben. Das Inhalts- und das
    Abbildungsverzeichnis wurden dynamisch mit JavaScript generiert. Um die Seite
    auch korrekt ausdrucken zu können, wurde die Software
    <a href="http://www.princexml.com/">Prince</a> verwendet, welche HTML-Seiten
    in PDFs umwandelt. Dadurch konnte diese Dokumentation, gleich wie der Source-Code
    der Applikation, mit der Versionsverwaltungssoftware Git verwaltet werden.
    </p>
    
    <h3>Sourcecode</h3>
    
    <p>
    Der Sourcecode der Software wurde ebenfalls mit der Versionsverwaltungssoftware
    Git verwaltet und kann über den Online-Service <a href="https://github.com/gabac/beacon-wallet">GitHub abgerufen werden</a>.
    </p>
    
</div>


<div class="chapter">
<h2>Interview mit Coop</h2>
<p>Folgende Interviewfragen wurden Coop gestellt:</p>
<ul>
    <li>Denke Sie, dass die Bezahlung mittels einem Smartphone eine zukunftsträchtige Bezahlmethode ist?</li>
    <li>Mit <a href="http://www.coop.ch/pb/site/retail/node/70518401/Lde/index.html">passabene</a> haben Sie bereits eine Lösung um mit einem Smartphone zu bezahlen. Sind Sie zufrieden mit der Adaption von passabene? Bekommen Sie positives Kundenfeedback?</li>
    <li>Wurden schon mal Tests durchgeführt, welche die Bezahlung via Bluetooth ermöglichen? Damit würde die Notwendigkeit für ein WLAN Empfang bei den Kunden entfallen.</li>
    <li>Haben Sie sich schon Gedanken gemacht, wie man iBeacons innerhalb von Coop nutzen könnten? Wenn ja, könnten Sie uns eine typische Verwendung beschreiben?</li>
    <li>Mit iBeacons und einem Kundenkonto wäre ein «Kundentracking» möglich, sehen Sie darin eine Gefahr für die Privatsphäre der Kunden?</li>
    <li>Könnten Sie sich vorstellen, die Lokalisierung der Kunden auch als Navigationshilfe innerhalb der Filiale zu verwenden? Folgendes Beispiel kommt uns in den Sinn: Der Kunde sucht nach Raketenglace, mit Hilfe der iBeacons wird die Position des Kundens innerhalb des Lades bestimmt. Nun wird basierend auf seinen typischen Einkaufsgewohnheiten die optimale Route, z.B. vorbei an Milch und Brot, zu den Raketenglace berechnet.</li>
</ul>
<p>Leider ist bis Heute eine Antwort ausstehend. Gerne wird diese aber nachgereicht.</p>
</div>

<div class="chapter">
<h2>Requirements Engineering</h2>

<h3>Kontextabgrenzung</h3>

<p>
Im Kontext des Beacon Wallet Systems befinden sich verschiedene Komponenten, 
welche einen Einfluss auf die Anforderungen haben und nachfolgend beschrieben sind.
</p>

<figure class="inline">
    <img src="images/kontextabgrenzung.png" width="400px" />
    <figcaption>Kontextabgrenzung</figcaption>
</figure>

<p>
Der Kunde interagiert mit den Produkten, welche der Coop anbieten. Um diese in 
seinen virtuellen Warenkorb zu legen, muss er den Barcode der Produkte scannen. 
Dazu verwendet er die iPhone-App. Sobald sein Einkauf abgeschlossen ist, 
begibt sich der Kunde zum Kassenbereich. Um eine Zahlung auszuführen, muss er 
sich in der Nähe eines iPads befinden. Das iPad nimmt dann die Zahlung entgegen 
und führt diese mithilfe der Server-Komponte aus. Die Transaktion wird in einer
Datenbank gespeichert. Die Datenbank enthält auch alle Produkte, welche von Coop
angeboten werden und vom iPhone angezeigt werden können.
</p>

<h3>Use Cases</h3>

<figure class="inline">
    <img src="images/use_cases.png" />
    <figcaption>Use Cases</figcaption>
</figure>

<h3>Nicht funktionale Anforderungen</h3>
<p>Die Anforderungen wurden direkt aus den Use Cases bzw. von den Befragungs- und Beobachtungstechnik abgeleitet. Die Beobachtungstechnik wurde während diversen Besuchen im Coop eingesetzt, um direkt vor Ort die wichtigsten Anforderungen heraus zu filtern.</p>

<h4>Vorlage</h4>
<p>Alle Anforderungen wurden anhand folgender Vorlage erstellt</p>
<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>Eindeutige Nummer des Anwendungsfalls.</td>
            </tr><tr>
                <td>Name</td>
                <td>Kurzname des Anwendungsfalls.</td>
            </tr>
            <tr>
                <td>Priorität</td>
                <td>Dringlichkeit des Anwendungsfalls mit dem Wertebereich tief, mittel und hoch.</td>
            </tr>
            <tr>
                <td>Auslöser</td>
                <td>Beschreibung des Ereignisses, welches diesen Anwendungsfall relevant macht.</td>
            </tr>
            <tr>
                <td>Beschreibung</td>
                <td>Kurze Zusammenfassung des Anwendungsfalls.</td>
            </tr>
            <tr>
                <td>Vorbedingungen</td>
                <td>Voraussetzungen welche für die Ausführung dieses Anwendungsfalls erfüllt sein müssen.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>Attribute Anforderungen</figcaption>
</figure>

<h4>Anforderungen</h4>
<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>UC1</td>
            </tr><tr>
                <td>Name</td>
                <td>Einscannen eines Produkts</td>
            </tr>
            <tr>
                <td>Priorität</td>
                <td>mittel</td>
            </tr>
            <tr>
                <td>Auslöser</td>
                <td>Ein Kunde ist innerhalb einer Coop Filiale.</td>
            </tr>
            <tr>
                <td>Beschreibung</td>
                <td>Der Kunde soll die Möglichkeit haben, Produkte während des Einkaufes einzuscannen. Eingescannte Produkte werden seinem Einkauf hinzugefügt und können am Ende des Einkaufes bezahlt werden. Es ist auch möglich weitere Produktinformationen einzusehen.</td>
            </tr>
            <tr>
                <td>Vorbedingungen</td>
                <td>Der Kunde muss sich innerhalb einer Coop Filiale befinden.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>UC1: Einscannen eines Produkts</figcaption>
</figure>
    
<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>UC2</td>
            </tr><tr>
                <td>Name</td>
                <td>Bezahlen des Einkaufes</td>
            </tr>
            <tr>
                <td>Priorität</td>
                <td>hoch</td>
            </tr>
            <tr>
                <td>Auslöser</td>
                <td>Der Kunde befindet sich in der Nähe einer Kasse.</td>
            </tr>
            <tr>
                <td>Beschreibung</td>
                <td>Sobald sich der Kunde in der Nähe der Kasse befindet, wird er aufgefordert seinen Einkauf zu bezahlen. Löst er eine Bezahlung aus, wird eine sichere Verbindung zu der Kasse aufgebaut.</td>
            </tr>
            <tr>
                <td>Vorbedingungen</td>
                <td>Der Kasse muss sich in der Nähe der Kasse befinden.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>UC2: Bezahlen des Einkaufes</figcaption>
</figure>

<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>UC3</td>
            </tr><tr>
                <td>Name</td>
                <td>Bezahlung mit App auslösen</td>
            </tr>
            <tr>
                <td>Priorität</td>
                <td>hoch</td>
            </tr>
            <tr>
                <td>Auslöser</td>
                <td>Das Kassensystem hat ein Kunde in seiner Nähe entdeckt.</td>
            </tr>
            <tr>
                <td>Beschreibung</td>
                <td>Sobald ein Kunde eine Bezahlung durchführen möchte, wird eine sichere Verbindung zum Kunden aufgebaut. Nach dem Verbindungsaufbau wird der Kassenzettel übertragen und dem Kunden verrechnet. Nach der erfolgreichen Abbuchung des Betrags wird dem Kunden eine entsprechende Bestätigung angezeigt.</td>
            </tr>
            <tr>
                <td>Vorbedingungen</td>
                <td>Der Kunde möchte gerne seinen Einkauf bezahlen und befindet sich in der Nähe eines Kassensystems.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>UC3: Bezahlung mit App auslösen</figcaption>
</figure>

<h3>Akzeptanz Tests</h3>
<p>Die Akzeptanz Tests werden anhand der Requirements definiert und haben daher eine direkte Verbindung zu den Use cases.</p>

<h4>Vorlage</h4>
<p>Alle Akzeptanz Tests wurden anhand folgender Vorlage erstellt.</p>

<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>Eindeutige Nummer des Tests.</td>
            </tr><tr>
                <td>Name</td>
                <td>Name des Tests.</td>
            </tr>
            <tr>
                <td>Status</td>
                <td>Erfüllt oder nicht erfüllt.</td>
            </tr>
            <tr>
                <td>Geprüfte Use cases</td>
                <td>Uses cases, welche durch diese Akzeptanz Tests geprüft werden</td>
            </tr>
            <tr>
                <td>Aktivität</td>
                <td>Aktivität, welche ausgeführt werden soll.</td>
            </tr>
            <tr>
                <td>Soll Verhalten</td>
                <td>Erwartetes Verhalten.</td>
            </tr>
            <tr>
                <td>Ist Verhalten</td>
                <td>Eingetroffenes Verhalten.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>Attribute Akzeptanz Test</figcaption>
</figure>

<h4>Akzeptanz Tests</h4>
<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>AT1</td>
            </tr>
            <tr>
                <td>Name</td>
                <td>Scannen eines Produktes.</td>
            </tr>
            <tr>
                <td>Status</td>
                <td>Nicht erfüllt.</td>
            </tr>
            <tr>
                <td>Geprüfte Use cases</td>
                <td>UC1</td>
            </tr>
            <tr>
                <td>Aktivität</td>
                <td>Ein Kunde soll innerhalb einer Coop Filiale ein Produkt scannen.</td>
            </tr>
            <tr>
                <td>Soll Verhalten</td>
                <td>Das Produkt soll dem Kassenzettel hinzugefügt werden. Der Kunde hat ebenfalls die Möglichkeit weitere Informationen über das Produkt sich anzeigen zu lassen.</td>
            </tr>
            <tr>
                <td>Ist Verhalten</td>
                <td>Der Kunde kann ein Produkt scannen. Nachdem das Produkt erfolgreich erkannt wurde, vibriert das iPhone kurz und das Produkt wird dem Warenkorb hinzugefügt. Innerhalb des Warenkorbs hat der Kunde die Möglichkeit sich weitere Information zu einem Produkt darstellen zu lassen.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>AT1: Scannen eines Produktes</figcaption>
</figure>

<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>AT2</td>
            </tr><tr>
                <td>Name</td>
                <td>Bezahlen</td>
            </tr>
            <tr>
                <td>Status</td>
                <td>Nicht erfüllt.</td>
            </tr>
            <tr>
                <td>Geprüfte Use cases</td>
                <td>UC2</td>
            </tr>
            <tr>
                <td>Aktivität</td>
                <td>Der Kunde soll sich in der Nähe einer Kasse befinden und eine Bezahlung auslösen.</td>
            </tr>
            <tr>
                <td>Soll Verhalten</td>
                <td>Das Kassensystem soll erkennen, dass sich ein Kunde in der Nähe befindet. Dem Kunden soll ein Bezahlinterface präsentiert werden, in welchem er die Bezahlung auslösen kann.</td>
            </tr>
            <tr>
                <td>Ist Verhalten</td>
                <td>Sobald sich ein Kunde in der Nähe eines Kassensystems befindet, wird er vom iPad erkannt. Sogleich startet auch die Abrechnung seines Warenkorbes. Dazu wird dem Kunden ein entsprechendes Interface präsentiert.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>AT2: Bezahlen</figcaption>
</figure>

<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="20%">
            <col width="80%">
        </colgroup>
        <tbody>
            <tr>
                <th>Attribut</th>
                <th>Beschreibung</th>
            </tr>
            <tr>
                <td>Identifier</td>
                <td>AT3</td>
            </tr><tr>
                <td>Name</td>
                <td>Zahlung entgegennehmen.</td>
            </tr>
            <tr>
                <td>Status</td>
                <td>Nicht erfüllt.</td>
            </tr>
            <tr>
                <td>Geprüfte Use cases</td>
                <td>UC3</td>
            </tr>
            <tr>
                <td>Aktivität</td>
                <td>Das Kassensystem soll die Zahlung eines Kunden entgegennehmen können.</td>
            </tr>
            <tr>
                <td>Soll Verhalten</td>
                <td>Das Kassensystem baut eine sichere Verbindung zum iPhone des Kunden auf und nimmt den Kassenzettel entgegen. Danach wird der Betrag dem Kunden verbucht. Sollte alles geklappt haben, wird der Kunde über die erfolgreiche Bezahlung auf seinem iPhone informiert.</td>
            </tr>
            <tr>
                <td>Ist Verhalten</td>
                <td>Wurde eine erfolgreiche Transaktion vom Server bestätigt, sendet das iPad eine entsprechende Notifikation zum iPhone. Darauf reagierend zeigt das iPhone einen Beleg über den erfolgreichen Ablauf der Bezahlung an.</td>
            </tr>
        </tbody>
    </table>
    <figcaption>AT3: Zahlung entgegennehmen</figcaption>
</figure>

<h3>Übersicht Abnahme Akzeptanz Tests</h3>
<figure class="table">
    <table class="inline" width="100%">
        <colgroup>
            <col width="10%">
            <col width="80%">
            <col width="10%">
        </colgroup>
        <tbody>
            <tr>
                <th>Identifier</th>
                <th>Name</th>
                <th style="text-align: right;">Erfüllt</th>
            </tr>
            <tr>
                <td>AT1</td>
                <td>Scannen eines Produkts</td>
                <td style="text-align: right;">✓</td>
            </tr>
           <tr>
               <td>AT2</td>
               <td>Bezahlen</td>
               <td style="text-align: right;">✓</td>
           </tr>
           <tr>
               <td>AT3</td>
               <td>Zahlung entgegennehmen</td>
               <td style="text-align: right;">✓</td>
           </tr>
        </tbody>
    </table>
    <figcaption>Übersicht Akzeptanz Test</figcaption>
</figure>
</div>

<div class="chapter">
<h2>Design</h2>

<h3>Bluetooth Payment</h3>

<p>
Sowohl in <a href="#ref-secure-payment"><em>A secure account-based mobile payment protocol</em></a> wie auch in 
<a href="#ref-ikp"><em>Design, implementation, and deployment of the iKP secure electronic payment system</em></a>
werden Protokolle für ein sicheres Bezahlungssystem für Mobile Geräte beschrieben.
Die Umsetzung der Systeme ist allerdings kompliziert und aufwändig, da diverse 
Anforderungen abgedeckt werden, welche in unserem System nicht existieren.
Die Anforderungen unseres System schränken sich auf folgende Liste ein:
</p>

<ul>
<li>Die Authentifizierung des Kunden muss sicher gestellt werden.</li>
<li>Die Bezahlung muss ohne Internetverbindung auf dem iPhone des Kunden möglich sein.</li>
<li>Die Autorisierung einer Bezahlung darf nur einmal verwendet werden können.</li>
<li>Die aktuellsten Produktpreise müssen vom Server abgerufen werden.</li>
<li>Die Kommunikation soll über Bluetooth Low Energy erfolgen.</li>
<li>Das iPad soll als Selbstbedienungskasse funktionieren und keine Interaktion benötigen (z.B. kein Pairing).</li>
</ul>

<p>
Bluetooth Low Energy besitzt zwar eine Möglichkeit zur sicheren Kommunikation
und Core Bluetooth unterstützt diese auch - jedoch ist dafür ein Pairing der zwei 
involvierten Geräte nötig. Dabei wird auf beiden Geräten eine Nummer angezeigt,
diese muss verglichen und auf beiden Geräten bestätigt werden. Dieser Prozess mag 
für viele Anwendungen gut funktionieren, stellt aber in unserem Anwendungsfall 
keine gute Lösung dar, da die Nummer auf dem iPad bestätigt werden müsste.
</p>

<p>
Das folgende Protokoll soll diese Anforderungen implementieren. Das Protokoll ist
auch im darauf folgenden Sequenzdiagramm visualisiert.
</p>

<ol>
<li>Der Kunde scannt im Laden selbständig fortlaufend sämtliche Produkte.</li>
<li>Der Kunde nährt sich mit seinem iPhone dem iPad der Kasse.</li>
<li>Das iPad stellt eine Verbindung mit dem iPhone her.</li>
<li>Das iPad fragt das iPhone nach dem Warenkorb.</li>
<li>Das iPhone verschlüsselt den Warenkorb.</li>
<li>Das iPhone sendet den verschlüsselten Warenkorb an das iPad.</li>
<li>Das iPad leitet den verschlüsselten Warenkorb an den Server weiter.</li>
<li>Der Server erstellt eine Rechnung für den übermittelten Warenkorb und signiert die Rechnung.</li>
<li>Der Server sendet diese Rechnung zurück an das iPad.</li>
<li>Das iPad leitet die signierte Rechnung an das iPhone weiter.</li>
<li>Das iPhone zeigt die Rechnung dem Kunden an.</li>
<li>Der Kunde bestätigt die Bezahlung der Rechnung mit seinem PIN Code.</li>
<li>Das iPhone verschlüsselt die Bezahlung.</li>
<li>Das iPhone sendet die verschlüsselte Bezahlung an das iPad.</li>
<li>Das iPad leitet die Bezahlung and den Server weiter.</li>
<li>Der Server verifiziert die Bezahlung.</li>
<li>Der Server sendet eine Quittung an das iPad.</li>
<li>Das iPad leitet die Quittung an das iPhone weiter.</li>
<li>Das iPhone zeigt die Quittung an.</li>
</ol>

<figure class="inline">
    <img src="images/sequenzdiagram-bluetooth-payment.png" width="500" />
    <figcaption>Sequenzdiagramm Bluetooth Payment</figcaption>
</figure>

<p class="break">
Für das Payment wird folgendes BLE-Profil definiert. Ein Bluetooth Profil
setzt sich jeweils aus hierarchischen Services und Characteristics zusammen.
Characteristics sind Attribute, die vom Client entweder beschrieben oder gelesen
werden können. Der Service fasst diese Characteristics dann zu einer logischen
Gruppe zusammen.
</p>

<figure class="table">
    <table class="inline" width="100%">
        <tbody>
            <tr>
                <th>Service</th>
                <th>Characteristic</th>
                <th>Berechtigung</th>
                <th>UUID</th>
            </tr>
                <tr>
                    <td>Beacon Wallet</td>
                    <td>&nbsp;</td>
                    <td>&nbsp;</td>
                    <td><code>91514033-965D-45B0-8414-48E793DC6AEE</code></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>Cart</td>
                    <td>Read, Notify</td>
                    <td><code>18DBF890-DADD-454C-9161-7620EDFD3009</code></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>Invoice</td>
                    <td>Write</td>
                    <td><code>A4D26C6B-3D39-49DD-9D7A-B38A20019D67</code></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>Payment</td>
                    <td>Read, Notify</td>
                    <td><code>FE9A5292-7CFF-45B6-812C-7B37F439FE3B</code></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td>Receipt</td>
                    <td>Write</td>
                    <td><code>DB0EB363-6D35-4C5D-92C7-E5F710899F7F</code></td>
                </tr>
        </tbody>
    </table>
    <figcaption>Bluetooth-Profil</figcaption>
</figure>

<h3 class="break">iBeacons im Coop</h3>

<p>
In der Coop-Filiale werden iBeacons strategisch verteilt, um gewisse Funktionen 
zu erfüllen. Ein iBeacon im Eingangsbereich weist dem Kunden mit einer 
Benachrichtigung auf die Verfügbarkeit der App-Funktionalität innerhalb dieser 
Filiale hin. Nährt sich der Kunde einem Produkt, welches mit einem iBeacon 
ausgestattet ist, werden innerhalb der App sofort dessen Produktinformationen 
angezeigt. Die iPads an der Kasse senden ebenfalls ein iBeacon-Signal aus, damit
die App weiss, dass die Ansicht zur Bezahlung aktiviert werden soll.
</p>

<figure class="inline">
    <img src="images/beacon_layout.png" />
    <figcaption>Platzierung der iBeacons</figcaption>
</figure>

<h3 class="break">API</h3>

<p>
Für die Kommunikation zwischen den iOS-Apps und dem Back-End soll eine REST API
mit folgenden Funktionen entwickelt werden.
</p>

<figure class="inline">
    <table width="100%">
        <tbody>
            <tr>
                <th>HTTP-Methode</th>
                <th>Resource</th>
                <th>Funktion</th>
            </tr>
            <tr>
                <td><code>GET</code></td>
                <td><code>/accounts/{card}</code></td>
                <td>Abfrage des Benutzerkontos</td>
            </tr>
            <tr>
                <td><code>PUT</code></td>
                <td><code>/accounts/{card}</code></td>
                <td>Änderungen am Benutzerkonto vornehmen</td>
            </tr>
            <tr>
                <td><code>GET</code></td>
                <td><code>/products</code></td>
                <td>Abfrage einer Liste aller Produkte</td>
            </tr>
            <tr>
                <td><code>GET</code></td>
                <td><code>/products/{id}</code></td>
                <td>Abfrage eines Produkts</td>
            </tr>
            <tr>
                <td><code>POST</code></td>
                <td><code>/transactions</code></td>
                <td>Erstellen eines neuen Bezahlvorgangs</td>
            </tr>
            <tr>
                <td><code>POST</code></td>
                <td><code>/transactions/payment</code></td>
                <td>Abschliessen eines Bezahlvorgangs</td>
            </tr>
        </tbody>
    </table>
    <figcaption>Übersicht API</figcaption>
</figure>

<h4>Abfrage des Benutzerkontos</h4>

<p>
Jedes Benutzerkonto wird anhand der Supercard-Nummer identifiziert und enthält
Kreditkarten-Informationen für die direkte Bezahlung. Die Authentifizierung erfolgt 
dabei nach <a href="#ref-rfc7235">RFC 7235</a>. Dabei ist wir die Supercard-Nummer
als Benutzername und der Pin als Passwort verwendet.
</p>

<figure>
<pre class="code"><code>GET /accounts/{card} HTTP/1.1
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
</code></pre>
<figcaption>Request Abfrage Benutzerkonto</figcaption>
</figure>

<figure>
<pre class="code"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
    "card": "2501032235098",
    "cc_nr":"510143256345234",
    "cc_date":"08-15"
}
</code></pre>
<figcaption>Response Abfrage Benutzerkonto</figcaption>
</figure>


<h4>Änderungen am Benutzerkonto vornehmen</h4>

<p>
Um die Kreditkarte oder den Pin eines Benutzerkontos zu ändern, kann der 
folgende Aufruf verwendet werden. Erneut ist die gleiche Authentifizierung wie
bei der Abfrage des Benutzerkontos notwendig.
</p>

<figure>
<pre class="code"><code>PUT /accounts/{card} HTTP/1.1
Authorization: Basic QWxhZGRpbjpvcGVuIHNlc2FtZQ==
Content-Type: application/json

{
    "pin":"1234",
    "cc_nr":"510143256345234",
    "cc_date":"08-15",
    "cc_ccv":"521"
}
</code></pre>
<figcaption>Request Änderungen Benutzerkonto</figcaption>
</figure>

<figure>
<pre class="code"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
    "card": "2501032235098",
    "cc_nr":"510143256345234",
    "cc_date":"08-15"
}
</code></pre>
<figcaption>Response Änderungen Benutzerkonto</figcaption>
</figure>


<h4>Abfrage einer Liste aller Produkte</h4>

<p>
Dieser Aufruf gibt eine Liste mit den IDs aller Produkte zurück.
Aufgrund dieser Liste können dann die Details für die Produkte mit einem
separaten Aufruf abgefragt werden.
</p>

<figure>
<pre class="code"><code>GET /products HTTP/1.1
</code></pre>
<figcaption>Request Liste Produkte</figcaption>
</figure>

<figure>
<pre class="code"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
    "products": [ {"id": 37} , {"id": 53285} ]
}
</code></pre>
<figcaption>Response Liste Produkte</figcaption>
</figure>


<h4>Abfrage eines Produkts</h4>

<p>
Um sämtliche Produktinformationen für ein Produkt zu erhalten, ist dieser
Aufruf notwendig. Es wird empfohlen, denn <code>If-Modified-Since</code> HTTP-Header
bei wiederholten Abfragen mit zu senden, um unnötigen Netzwerkverkehr zu verhindern.
</p>

<figure>
<pre class="code"><code>GET /products/{id} HTTP/1.1
If-Modified-Since: Sat, 29 Oct 1994 19:43:31 GMT
</code></pre>
<figcaption>Request Produkt</figcaption>
</figure>

<figure>
<pre class="code"><code>HTTP/1.1 200 OK
Content-Type: application/json
Last-Modified: Sat, 29 Oct 1994 19:43:31 GMT

{
    "id": "37",
    "name": "Barilla Spaghetti No.5",
    "price": "2.10",
    "info": [
        {
            "name": "Herkunft",
            "value": "Produktionsland Italien"
        },
        {
            "name": "Zusammensetzung",
            "value": "Hartweizengriess, Wasser."
        },
        {
            "name": "Verwendung",
            "value": "Italienische Teigwaren (Spaghetti) aus Hartweizengriess"
        }
    ],
    "barcodes": [
        "8076800195057"
    ]
}
</code></pre>
<figcaption>Response Produkt</figcaption>
</figure>


<h4 class="break">Erstellen eines neuen Bezahlvorgangs</h4>

<p>
Dieser Aufruf wird ausgeführt, wenn der Kunde an der Kasse bezahlen möchte.
In der Antwort ist unter anderem die ID der Transaktion sowie der Gesamtbetrag
enthalten. Die Anfrage soll dabei effektiv verschlüsselt übermittelt werden.
</p>

<figure>
<pre class="code"><code>POST /transactions HTTP/1.1
Content-Type: application/json

{
    "card": "2501032235098",
    "products": [
        {"id": 123, "quantity": 2},
        {"id": 456, "quantity": 1}
    ]
}
</code></pre>
<figcaption>Request neuer Bezahlvorgang</figcaption>
</figure>

<figure>
<pre class="code"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
    "id": 123,
    "status": "pending",
    "card": "2501032235098",
    "amount": 123.35,
    "products": [
        {"id": 123, "quantity": 2, "amount": 50},
        {"id": 456, "quantity": 1, "amount": 23.35}
    ]
}
</code></pre>
<figcaption>Response neuer Bezahlvorgang</figcaption>
</figure>


<h4 class="break">Abschliessen eines Bezahlvorgangs</h4>

<p>
Um die Bezahlung eines Kunden abzuschliessen, muss dieser Aufruf durchgeführt 
werden. Die Anfrage enthält die ID der Transaktion sowie den Pin des Kunden.
Auch diese Anfrage soll verschlüsselt übermittelt werden.
</p>

<figure>
<pre class="code"><code>POST /transactions/payment HTTP/1.1
Content-Type: application/json

{
    "id": 123,
    "card": "2501032235098",
    "pin": "1234"
}
</code></pre>
<figcaption>Request Abschluss Bezahlvorgang</figcaption>
</figure>

<figure>
<pre class="code"><code>HTTP/1.1 200 OK
Content-Type: application/json

{
    "id": 123,
    "status": "complete",
    "card": "2501032235098",
    "amount": 123.35,
    "products": [
        {"id": 123, "quantity": 2, "amount": 50},
        {"id": 456, "quantity": 1, "amount": 23.35}
    ]
}
</code></pre>
<figcaption>Response Abschluss Bezahlvorgang</figcaption>
</figure>



<h3 class="break">Architektur</h3>
<figure class="inline">
    <img src="images/architektur.png" width="400px" />
    <figcaption>Architektur</figcaption>
</figure>

<p>
Das Software-System basiert auf dem Client-Server-Prinzip. Auf einem 
zentralen Server werden die Daten gespeichert und verwaltet. Eine 
PHP-Applikation erlaubt den Zugriff auf diese Daten über das Internet. Als 
Datenbank kommt das RMDBS von MySQL zum Einsatz.
</p>

<p>
Der Kunde installierte eine iOS-App, welche über den Apple App Store vertrieben 
wird, auf seinem iPhone und kann damit Produktinformationen abfragen. Jede Kasse 
wird mit einem iPad ausgerüstet. Auf dem iPad wird über ein internes 
Verteilungssystem eine zweite iOS-App installiert, welche für die Abwicklung 
der Bezahlung zuständig ist.
</p>

<p>
Die Kommunikation zwischen dem iPhone des Kunden und dem iPad der Kasse erfolgt 
über Bluetooth, da der Internetzugang für das iPhone nicht immer garantiert 
werden kann.
</p>

<p>
Für die Abfrage der Produktinformationen ist keine Authentifizierung notwendig. 
Das iPad authentifiziert sich mit dem Benutzeraccount des Kassierers.
Die Kommunikation zwischen dem iPhone und dem Server für die Bezahlung werden 
asymmetrisch mit einem Public Key auf dem iPhone verschlüsselt.
</p>

<h4>Back-End</h4>

<p>
Aufgrund der eigenen Erfahrung soll die Web-Applikation mit PHP und dem 
Framework <a href="http://silex.sensiolabs.org/">Silex</a> programmiert werden.
Als Datenbank soll das populäre Datenbankmanagementsystem 
<a href="http://dev.mysql.com/downloads/">MySQL</a> zum Einsatz kommen.
</p>

<p>
Das nachfolgende Klassendiagramm beschreibt die wichtigsten Klassen der 
umgesetzten Web-Applikation, welche als Back-End für das Software-System dient.
Die Controller im Package <code>BeaconWallet\Controller</code> verarbeiten die
Requests und nutzen die Services aus dem Package <code>BeaconWallet\Service</code>,
um die Daten für die Response abzurufen.
</p>

<figure class="inline">
    <img src="images/klassendiagramm-backend.png" />
    <figcaption>Klassendiagramm</figcaption>
</figure>


</div>

<div class="chapter">
<h2>Umsetzung Back-End</h2>

<h3>Entwicklungsumgebung</h3>

<p>
Folgende Software wurde für die Entwicklung des Back-Ends eingesetzt: Zum Schreiben
des Quellentexts wurde der Texteditor <a href="https://chocolatapp.com/">Chocolat</a>
verwendet. Die Abhängigkeiten zu Software-Bibliotheken wurde mit der Paketverwaltung
<a href="https://getcomposer.org/">Composer</a> definiert und installiert.
Getestet wurde die Software mit dem Test-Framework <a href="http://phpunit.de/">PHPUnit</a>.
Gespeichert wurde der Quellentext lokal auf dem Computer des Entwicklers sowie 
auf dem Versionsverwaltungsdienst <a href="https://github.com/">GitHub</a>.
Bei jedem Commit wurden zudem die Tests automatisch auf dem Continious Integration-Dienst
<a href="https://travis-ci.org/">Travis CI</a>. Zur Installation der Abhängigkeiten und 
zur Ausführung der Tests werden auf Travis CI ebenfalls wieder Composer und PHPUnit verwendet.
Dieser Ablauf wird auch in folgender Abbildung dargestellt.
</p>

<figure class="inline">
    <img src="images/entwicklungsumgebung-back-end.png" width="360" />
    <figcaption>Entwicklungsumgebung Back-End</figcaption>
</figure>

<p>
Dieser Aufbau der Entwicklungsumgebung hat den Vorteil, dass durch das 
automatische Ausführen der Tests jeweils das komplette Projekt
automatisch auf Fehler überprüft wird.
</p>

<h3>Erfassung Testprodukte</h3>

<p>
Um nicht alle Produktinformationen für Testprodukte manuell erfassen zu müssen,
wurde nach einer verfügbaren Schnittstelle für Produkte gesucht. Auf der 
<a href="https://produkte.migros.ch/">Produkteseite von Migros</a> finden sich 
ausführliche Informationen über diverse Markenprodukte inkl. Barcode. Leider steht
dort aber keine API zur Verfügung, über welche man die Produkte abfragen könnte.
Zudem finden sich dort nur wenige Produkte, welche auch im Coop angeboten werden.
</p>

<p>
Als weitere Quelle wurde die <a href="http://www.coop.ch/apps">iPhone-App von Coop</a> analysiert, indem der 
Netzwerkverkehr der App aufgezeichnet und untersucht wurde. Man findet dort
Aufrufe zu einer API, über welche einzelne Produktinformationen ausgelesen werden
können, jedoch jeweils nur von den aktuellen Aktionen und ohne nützliche 
Zusatzinformationen zu den Produkten.
</p>

<p>
Bei der Aufzeichnung des Netzwerkverkehrs der <a href="http://www.coopathome.ch/mobile-apps_de/">coop@home-App</a>
zeigte sich, dass dort eine API zur Abfrage des gesamten Produktesortiments 
gruppiert nach Kategorien verwendet wird. Für diese API wurde dann ein Programm
geschrieben, dass alle Produkte der Kategorien Teigwaren, Chips, Tafelschokolade,
Müsli und Zahnpflege abruft und in unsere Produkte-Datenbank speichert.
Dadurch konnten insgesamt 573 Produkte inkl. Zusatzinformationen wie Herkunft 
und Zusammensetzung gespeichert werden.
</p>

<p>
Um die Baumstruktur der Kategorien zu erhalten, wird folgender HTTP-Aufruf
verwendet.
</p>

<figure>
<pre class="code"><code>
POST /b2c_coop/api/catalogstructure.do HTTP/1.1
Host: www.coopathome.ch
Content-Type: application/x-www-form-urlencoded

language=de&version=3.1&shop=DIREKT_DE
</code></pre>
<figcaption>Abfrage Kategorien coop@home</figcaption>
</figure>

<p>
Aus der Antwort können dann die IDs der Kategorien gelesen werden 
(z.B.&nbsp;4AD598439F98028BE10000000A030109 für Teigwaren). Mit der ID der Kategorie
können dann die Produkte mit folgendem HTTP-Aufruf ausgelesen werden.
</p>

<figure>
<pre class="code"><code>
POST /b2c_coop/api/catalog.do HTTP/1.1
Host: www.coopathome.ch
Content-Type: application/x-www-form-urlencoded

language=de&version=3.1&shop=DIREKT_DE&area=4AD598439F98028BE10000000A030109&offset=0
</code></pre>
<figcaption>Abfrage Produkte coop@home</figcaption>
</figure>

<h3 class="break">Dokumentation API</h3>

<p>
Die REST-API des Back-End wurde in Markdown geschrieben und mit dem 
Online-Dienst <a href="http://www.apiary.io/">Apiary</a> als Website unter 
<a href="http://docs.beaconwallet.apiary.io/">docs.beaconwallet.apiary.io</a> 
veröffentlicht. Apiary wandelt dabei die Markdown-Dokumentation in HTML um und
generiert Beispiel-Aufrufe für unterschiedliche Programmiersprachen.
</p>

<p>
Zustätzlich stellt Apiary automatisch anhand der dokumentierten Ressourcen für 
diese einen Mock-Server zur Verfügung. Dieser konnte während der Entwicklung des 
Bezahlungssystems auf den iOS-Geräten verwendet werden.
</p>

<figure class="inline">
    <img src="images/screenshot-apiary.png" />
    <figcaption>Screenshot Apiary</figcaption>
</figure>

</div>

<div class="chapter">
<h2>Umsetzung iOS</h2>

<h3>Entwicklungsumgebung</h3>
<p>Für die Entwicklung wurde auf verschiedene Open Source Tools zurück gegriffen. Zum einen wurde für die Source Code Verwaltung <a href="https://github.com/gabac/beacon-wallet">GitHub</a> verwendet. Um Unit Tests zu schreiben wurde das Framework <a href="https://developer.apple.com/library/ios/documentation/ToolsLanguages/Conceptual/Xcode_Overview/UnitTestYourApp/UnitTestYourApp.html">XCTest</a> verwendet. Die Tests werden auf einem Continuous Integration Server von <a href="https://travis-ci.org/gabac/beacon-wallet">Travis</a> ausgeführt. Für die Ausführung und den Build der Apps wird das Tool <a href="https://github.com/facebook/xctool">xctool</a> verwendet. Dies sorgt sich auch um alle Abhängigkeiten einer App via <a href="http://cocoapods.org">Cocopods</a> aufzulösen.</p>
<p>Um ein besseres Gefühl für das Zusammenspiel der verschiedenen Tools zu geben, wurde nachfolgendes Diagramm erstellt.</p>

<figure class="inline">
    <img src="images/entwicklungsumgebung.png" width="500"/>
    <figcaption>Entwicklungsumgebung</figcaption>
</figure>

<h3>Software</h3>
<p>Im folgenden Kapitel wird einzeln auf die verschiedenen Funktionen der Apps für das iPhone, sowie für das iPad eingegangen.</p>
<h4>iPhone</h4>
<p>Die iPhone App wurde als <a href="https://developer.apple.com/library/ios/documentation/uikit/reference/UITabBarController_Class/Reference/Reference.html">TabBar</a> App aufgebaut. Dies ermöglicht einen schnellen Zugriff auf die verschiedenen Funktionen der App.</p>
<figure class="inline">
    <img src="images/iphone_main_ui.png" class="border" width="300"/>
    <figcaption>TabBar UI</figcaption>
</figure>

<p>In der Account View werden die wichtigsten Daten des Users angezeigt. Dies sind die Supercard Nummer und die damit verknüpft Kreditkarte Nummer.</p>

<p>Um Barcodes der Produkte einzulesen wurde das Framework von <a href="http://www.scandit.com">Scandit</a> verwendet. Scandit ist eine Schweizer Firma, welche sich auf das Erkennen von Barcodes und QR Codes spezialisiert hat.</p>
<p>Nach einer erfolgreichen Erkennung eines Barcodes wird dieser mit einer internen Produkte Datenbank auf dem iPhone verglichen. Diese wird beim Starten der App geladen bzw. es wird nach Updates für bestehenden Produkte gesucht. Da davon auszugehen ist, dass in einer Filiale schlechter Empfang herrscht, werden Request auf einen Server möglichst vermieden.</p>
<figure class="inline">
    <img src="images/iphone_scan.png" class="border" width="300"/>
    <figcaption>Barcode Scanner</figcaption>
</figure>

<p>Sobald ein Produkt erfolgreich erkannt wurde, ist es in der Receipt View ersichtlich. Diese View zeigt alle aktuellen Produkte dieses Einkaufes an. Natürlich ist es hier auch möglich, Produkte wieder aus dem Warenkorb zu entfernen.</p>
<figure class="inline">
    <img src="images/iphone_receipt.png" class="border" width="300"/>
    <figcaption>Warenkorb</figcaption>
</figure>

<p>Um weitere Produktdetails zu erhalten, kann man ein Produkt selektieren. Danach werden alle Verfügbare Infos zu diesem Produkt angezeigt. Wie bereits erwähnt, werden diese Daten von einer lokalen Datenbank gelesen und es ist kein Request zu einem Server notwendig.</p>
<figure class="inline">
    <img src="images/iphone_product_detail.png" class="border" width="300"/>
    <figcaption>Produktdetail</figcaption>
</figure>

<p>Innerhalb einer Filiale können verschiedene iBeacons verteilt sein. Ist ein Kunde in der Nähe eines solchen iBeacons, öffnet sich automatisch eine Produktansicht. Dies soll ein Kunde animieren jenes Produkt zu kaufen. Man könnte mit dieser Methode auch Aktionen oder neue Produkte anpreisen.</p>
<figure class="inline">
    <img src="images/iphone_aktion.png" class="border" width="300"/>
    <figcaption>iBeacon Produktscreen</figcaption>
</figure>

<h4>iPad</h4>
<p>Das UI der iPad App ist sehr simple und klar gehalten. Da man das iPad als Selfcheckout Kasse verwendet, ist auch keine direkte Interaktion mit der App möglich. Nur im Zusammenspiel mit dem iPhone reagiert das iPad. Darauf wird im nächsten Kapitel eingegangen.</p>
<figure class="inline">
    <img src="images/ipad_main_ui.png" class="border" width="300"/>
    <figcaption>iPad UI</figcaption>
</figure>

<h4>Bezahlung</h4>
<p>Dieses Kapitel beschreibt, Schritt für Schritt, wie das Zusammenspiel der iPhone App und der iPad App während dem Bezahlvorgang abläuft.</p>

<p>Um zu erkennen, ob sich ein Kunde in der Nähe des iPads befindet, wird die Empfangsstärke des Bluetooths Signals verwendet. Das iPad beginnt den Zahlungsprozess sobald die Empfangsstärke kleiner als <italic>-35dB</italic> ist. Um dem User ein Hinweis zu geben, dass der Zahlungsprozess gestartet hat, wird das UI grün und ein ein entsprechender Hinweistext erscheint. Da iPad liest nun den Warenkorb des iPhones.</p>
<figure class="inline">
    <img src="images/ipad_sending_cart.png" class="border" width="300"/>
    <figcaption>iPad Warenkorb Übermittlung</figcaption>
</figure>

<p>Folgende Informationen werden dem iPad übermittelt.</p>
<pre class="code">
 <code>{
    "card": "2501032235098",
    "products": [
        {
            "id": "12",
            "quantity": 1
        }
    ]
}</code></pre>

<p>Bluetooth LE erlaubt nur eine Packetgrösse von 20 Bytes. Ein typischer Warenkorb ist aber deutlich grösser als die maximal zugelassen Packetgrösse. Um trotzdem grössere Daten verschicke zu können, werden 20 Bytes grosse Chunks an das iPad gesendet. Um das Ende zu signalisieren wird ein Packet mit dem Inhalt <italic>EOM</italic> versendet. Das iPad setzt alle Chunks wieder zusammen und erhält so den gesamten Warenkorb.</p>
<figure class="inline">
    <img src="images/bluetooth_chunks.png" width="500"/>
    <figcaption>Bluetooth Chunks</figcaption>
</figure>

<p>Im nächsten Schritt wird dem Kunden sein Total auf dem iPhone angezeigt und er kann die Bezahlung bestätigen. Das Total wurde vom iPad berechnet, da nur das iPad die aktuellen Preis für die Produkte kennt. Diese Total wurde dann wiederum vom iPad an das iPhone übermittelt.</p>
<figure class="inline">
    <img src="images/iphone_payment.png" class="border" width="300"/>
    <figcaption>iPhone Total</figcaption>
</figure>

<p>Das iPhone erhält das Total in Form der Response vom Server, welche vom iPad abgesetzt worden ist.</p>
<pre class="code">
 <code>{
    "id": 123,
    "status": "pending",
    "card": "2501032235098",
    "branch": 23432,
    "amount": 123.35,
    "products": [
        {"id": 123, "quantity": 2, "amount": 50},
        {"id": 456, "quantity": 1, "amount": 23.35}
    ]
}</code></pre>

<p>Das iPad wartet nun auf die Bestätigung vom User.</p>
<figure class="inline">
    <img src="images/ipad_confirm.png" class="border" width="300"/>
    <figcaption>iPad erwartet Bestätigung</figcaption>
</figure>

<p>Die Bestätigung, welche an das iPad gesendet wird, sieht wie folgt aus.</p>
<pre class="code">
 <code>{
     "amount": 123.35,
     "card": "2501032235098",
     "id": "123sd53vd",
     "pin": "1234"
 }
</code></pre>
    

<p>Sobald der User die Bestätigung auf dem iPhone getätigt hat, wird dies dem iPad mitgeteilt und die Bezahlung wird auf dem Server abgewickelt. Wurde die Transaktion erfolgreich durchgeführt wird dies dem Kunden dargestellt.</p>
<figure class="inline">
    <img src="images/ipad_done.png" class="border" width="300"/>
    <figcaption>Erfolgreiche Transaktion</figcaption>
</figure>

<p>Die Bestätigung der erfolgreichen Transaktion wird dem iPhone übertragen</p>
<pre class="code">
 <code>{
    "id": 123,
    "status": "complete",
    "card": "2501032235098",
    "branch": 23432,
    "amount": 123.35,
    "products": [
        {"id": 123, "quantity": 2, "amount": 50},
        {"id": 456, "quantity": 1, "amount": 23.35}
    ]
}</code></pre>

<p>Auch auf dem iPhone des Users wird eine Bestätigung angezeigt. Nun wird sein aktueller Warenkorb auf dem iPhone gelöscht und er wäre bereit für einen nächsten Einkauf. In keinem von diesen Schritten musste das iPhone mit einem Server kommunizieren. Die gesamte Kommunikation wurde via Bluetooth ausgeführt und ist verschlüsselt. Für Dokumentation wurden jedoch die unverschlüsselten Daten dargestellt. </p>
<figure class="inline">
    <img src="images/iphone_done.png" class="border" width="300"/>
    <figcaption>Bestätigung der Transaktion</figcaption>
</figure>


</div>

<div class="chapter">
<h2>Fazit</h2>
<h3>iBeacons</h3>
<p>
Die Implementation der iBeacons hat ohne grössere Probleme funktioniert. Dank 
der Hardware von <a href="http://estimote.com">Estimote</a> war auch das Testen 
problemlos möglich. Eine Anwendung der iBeacons innerhalb einer Filiale sollte 
jeder Detailhändler in Betracht ziehen. Die Implementation ist sehr einfach und 
für Kunden kann sich ein grosser Mehrwert ergeben.
Auch Apple setzt immer mehr auf iBeacons und ermöglicht neuere und bessere 
Funktionen. So wird z.B. mit iOS 8 (ab Herbst erhältlich), sogar ein Indoor 
Tracking möglich.
</p>
<p>
Für Detailhändler wie Coop kann dies eine sehr spannende Funktionalität sein. 
Man stelle sich vor, der Kunde sucht nach Erdnüssen. Basierend auf dem 
eigenen Einkaufsprofil könnte eine optimale Route innerhalb der aktuellen 
Filiale zu den Erdnüssen berechnet werden. Dabei wird der Kunde an Artikeln vorbei 
geführt, welche dieser Kunde typischerweise kaufen würde.
</p>
<h3>Bluetooth Payment</h3>
<p>
Es ist überraschend, was Bluetooth Low Energy heutzutage alles ermöglicht. 
Die Spezifikation von Bluetooth ist nicht einfach zu verstehen, aber iOS bietet 
mit CoreBluetooth einen guten Abstraktionslayer an. Es wurde viel Zeit verbraucht 
in der korrekten Umsetzung der Kommunikation zwischen dem iPhone und dem iPad. 
Viele Fehlermeldung sind nicht wirklich eindeutig und es vergeht viel Zeit bis 
man z.B. merkt, dass man nicht mehr als 20 Bytes verschicken kann. Spannend war 
auch zu sehen, dass die Übermittlung der Daten verhältnismässig lange geht. 
Erwartet wurde, dass sich der Datenaustausch im Bereich von einigen Millisekunden
bewegt, stattdessen vergehen mehrere Sekunden bis ein Warenkorb komplett 
übertragen worden ist.
</p>
<h3>Back-End</h3>
<p>
Da bereits bekannte und stabile Technologien eingesetzt wurden, konnte die REST-API
effizient umgesetzt werden. Die API wurde bereits vorab detailliert dokumentiert 
und so konnten einfach Integrationstests für abgeleitet und implementiert werden. 
Die Entschlüsselung der Bezahlungsanfragen mit OpenSSL musste zuerst erlernt 
werden, funktionierte dann aber ebenfalls ohne Probleme. Interessant war auch 
der Einsatz der asymmetrischen Verschlüsselung mit unterschiedlichen 
Technologien (Objective-C und PHP).
</p>
<p>
Dank von Silex mitgelieferten Hilfsmethoden beschränkte sich die Implementierung
des HTTP-Headers <code>If-Modified-Since</code> auf wenige Zeilen Code. In der 
Anwendung zeigte sich jedoch, dass es empfehlenswert ist, einen Basisbestand 
der Produkte direkt in die iOS-App zu integrieren. Der HTTP-Header nützlich, um 
Netzwerkverkehr für Aktualisierungen zu reduzieren und die Antworten einfach zu 
cachen, es braucht aber eine zusätzliche Strategie für die erste Übertragung.
</p>
<h3>iOS Apps</h3>
<p>
Die Entwicklung der Apps ging zügig und gut voran. Es wurden nur Standart UI 
Elemente und bekannte Libraries verwendet um die Entwicklung zu beschleunigen. 
Dennoch wurden zwei ansprechende Apps entwickelt. Zum ersten Mal wurde hier der 
<a href="https://developer.apple.com/xcode/interface-builder/">Interface Builder</a> 
eingesetzt. Dieser ermöglicht es, ein UI via Drag & Drop zu erstellen. Vor allem 
die Platzierung von Buttons und Texten ist durch dies viel einfacher und 
erspart mühsame Codearbeit.
</p>
<p>
Es wurde auch versucht, das Corporate Design (CD) von Coop innerhalb der Apps 
wiederzugeben. Dazu wurde in der iPhone App der bekannte Orangeton von Coop 
verwendet.
</p>
<p>
Die App wurde bewusst noch für iOS 7 geschrieben, obwohl 
<a href="https://www.apple.com/chde/ios/ios8/">iOS 8</a> in einer Beta-Version 
Anfangs Juni vorgestellt worden ist. Man hat sich lieber auf funktionierende 
Software verlassen, als neue, ungetestete Funktionen zu verwenden.</p>
</div>


<div class="chapter">
<h2>Anhang</h2>
<h3>Glossar</h3>
<p>
API: Application Programming Interface, bezeichnet die Schnittstelle, über
welche der Client Daten vom Server abruft.
</p>
<p>Artefakt: Ist das Ergebnis eines Buildprozesses. Es ist die fertige Software, welche auf Endgärten installiert werden kann.</p>
<p>
Byte: Ein Byte besteht aus 8 Bit. Es ist eine Masseinheit in der Informatik
</p>
<p>
Client: Ein Anwendungsprogramm, welches auf dem Gerät des Benutzers läuft und
meist mit einem Server kommuniziert.
</p>
<p>
Enum: Ein Aufzählungstyp mit einer endlichen Menge an konstanten Typen.
</p>
<p>Git: Ebenfalls eine Software zur Versionsverwaltung. Wurde ursprünglich für Linux entwickelt. Der grösste Unteschied zu SVN ist die dezentrale Verwaltung des Sourcecodes.</p>
<p>Markdown: Eine Auszeichnungssprache deren Ziel eine einfache Lesbarkeit ist.</p>
<p>Mock: Ein simuliertes Objekt, das sich ähnlich wie ein echtes Objekt verhält.</p>
<p>RMDBS: Ein relationales Datenbankmanagementsystem ist eine Software welche das Speichern und Abfragen von Daten ermöglicht.</p>
<p>
Server: Eine Komponente, welche verschiedene Requests von Clients erhält und auf diese reagieren kann.
</p>
<p>
UI: Kurzschreibweise für User Interface. Das Aussehen einer Applikation.
</p>
<p>
UUID: Steht für Universally Unique Identifier. In diesem Projekt eine eindeutige Nummer für einen Client.
</p>

<h3 class="break">Literaturverzeichnis</h3>
<p id="ref-programming-objective-c" class="ref">Stephen G. Kochan: Programming in Objective-C 2.0(5. Auflage), 2013, 978-0321887283, Amsterdam: Addison-Wesley Longman</p>
<p id="ref-scrum" class="ref">Ken Schwaber, Mike Beedle: Agile Software Development with Scrum, 2001, 978-0130676344</p>
<p id="ref-secure-payment" class="ref">Kungpisdan, S.; Srinivasan, B.; Phu Dung Le: A secure account-based mobile payment protocol, 2004</p>
<p id="ref-ikp" class="ref">Bellare, M.; Garay, J.A.; Hauser, R.; Herzberg, A.; Krawczyk, H.; Steiner, M.; Tsudik, G.; Van Herreweghen, E.; Waidner, M.: Design, implementation, and deployment of the iKP secure electronic payment system, 2000</p>
<p id="ref-rfc7235" class="ref">Fielding, R.; Reschke, J.: RFC 7235 - Hypertext Transfer Protocol (HTTP/1.1): Authentication, 2014, ISSN: 2070-1721</p>

<h3 class="break">Abbildungsverzeichnis</h3>

<ul id="figures"></ul>

</div>

<footer>&#160;</footer>

</body>
</html>
